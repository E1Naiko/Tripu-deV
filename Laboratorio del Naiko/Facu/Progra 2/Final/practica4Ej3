{Realice un programa donde 4 robots colaboren para recoger todas las flores de una esquina indicada por un robot jefe, seleccionada de manera aleatoria dentro del cuadrante (2,2) y (10,10). Para ello el jefe determina inicialmente una esquina y los robots deben accederla, tomar de a una las flores y volver a su posición inicial. Cuando los robots terminan el jefe deberá informar cuál de ellos logró recoger más flores. Las esquinas de inicio de los robots deberán ser jefe (1,1) y robots (2,1), (3, 1), (4,1) y (5,1).}
{}
programa tp4Ej3
procesos
  proceso limpiarFlores(ES cont: numero)
  comenzar
    mientras HayFlorEnLaEsquina
      tomarFlor
      cont:=cont+1
  fin
  proceso bloquearSiguiente
  comenzar
    BloquearEsquina(PosAv+1,PosCa)
    mover
    LiberarEsquina(PosAv-1,PosCa)
  fin
areas
  areaG : AreaC(2,2,10,10)
  areaIniJ : AreaP(1,1,1,1)
  areaIni1 : AreaP(2,1,2,1)
  areaIni2 : AreaP(3,1,3,1)
  areaIni3 : AreaP(4,1,4,1)
  areaIni4 : AreaP(5,1,5,1)
robots
  robot tipoFlorero
  variables
    id : numero
    avenida : numero
    avIni: numero
    cont : numero
  comenzar
    cont := 0
    RecibirMensaje(id, robotJ)
    RecibirMensaje(avenida, robotJ)
    mientras (avenida<>0)
      { ---- Inicio recorrido ---- }
      BloquearEsquina(avenida,2)
      Pos(avenida, 2)
      repetir 9
        LimpiarFlores(cont)
        bloquearSiguiente
      LimpiarFlores(cont)
      { ---- Vuelta a inicio ---- }
      Pos(avIni, 1)
      LiberarEsquina(avenida, 2)
      { ---- Comunico termine ---- }
      EnviarMensaje(V, robotJ)
      RecibirMensaje(calle, robotJ)
    { ---- Envio Resultado ---- }
  fin 
  robot tipoJefe
  comenzar
    EnviarMensaje(1, robot1)
    EnviarMensaje(2, robot2)
    EnviarMensaje(3, robot3)
    EnviarMensaje(4, robot4)
  fin
variables
  robot1: tipoFlorero
  robot2: tipoFlorero
  robot3: tipoFlorero
  robot4: tipoFlorero
  robotJ: tipoJefe
comenzar
  AsignarArea(robotJ,areaIniJ)
  AsignarArea(robot1,areaIni1)
  AsignarArea(robot2,areaIni2)
  AsignarArea(robot3,areaIni3)
  AsignarArea(robot4,areaIni4)
  AsignarArea(robot1,areaG)
  AsignarArea(robot2,areaG)
  AsignarArea(robot3,areaG)
  AsignarArea(robot4,areaG)
  Iniciar(robotJ, 1, 1)
  Iniciar(robot1, 2, 1)
  Iniciar(robot1, 3, 1)
  Iniciar(robot1, 4, 1)
  Iniciar(robot1, 5, 1)
fin
fin