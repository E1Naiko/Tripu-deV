org 1000h

V1  DB "SERTS"
FIN_T  DB  ?
V2  DB  0
resul DB 00H
CANT DB 0H  ;1008H
;subRutina: equals
;Recibe dos parametros por refer. via pila (V1 Y V2).
ORG 3000H

Equals:  PUSH AX
    PUSH CX
    PUSH BX
    MOV  BX,AX
    MOV  AL,[BX]
    MOV  BX,CX
    MOV  CL,[BX]
IF: CMP  AL,CL
    JZ   THEN
JMP  FINR

THEN: MOV BX,SP
      ADD BX,8
      MOV BYTE PTR [BX],0FFH
JMP FINR

;ELSE: MOV BX,SP
;ADD BX,8
;MOV BYTE PTR [BX],00H
;POP BX ;ESTO NOS HIZO SACAR 7 PUTA MADRE LUCHITO ESPANTAS A LAS VIEJAS !!!!!
;POP CX
;POP AX
FINR: POP BX
    POP CX
    POP AX 
RET
      
ORG 2000H
    MOV AX,0
    MOV CX,0
    MOV DX,0
    
    MOV AX,OFFSET V1
    MOV CX,OFFSET FIN_T-1
    
LOOP: MOV BX,00H ;MOV Bl,resuL
      PUSH BX 

    CALL Equals ;SUB RUTINA
    POP BX
    
    CMP BL,00H
    JZ  FIN
    INC CANT
    INC AX
    DEC CX
    CMP CX,AX;CONDICION DE CORTE 
    JZ  FIN
JMP LOOP

FIN: HLT
END   